<div class="post-detail-container">
    <!-- Show Loader -->
    <div *ngIf="isLoading" class="loading-post"> Loading posts...</div>
    <div *ngIf="isDeleting" class="loading-deleting">
        <p>Deleting post...</p>
    </div>
    <div *ngIf="isPinning" class="loading-pinning">
        <p>Pinning post...</p>
    </div>

    <!-- Display post details -->
    <div *ngIf="!isLoading && post">

        <div class="post-header">
            <button class="btn back-btn" (click)="goBack()">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö</button>

            <!-- Post Actions (Admin Only) -->
            <div class="post-actions" *ngIf="isAdmin">
                <button class="btn-icon btn-edit hidden" (click)="editPost()" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå">
                    ‚úèÔ∏è
                </button>
                <button class="btn-icon btn-pin" 
                        (click)="togglePinPost()" 
                        [class.pinned]="post.isPinned"
                        title="‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå">
                        ‚≠ê
                </button>
                <button class="btn-icon btn-delete" (click)="openDeleteDialog()" title="‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå">
                    üóëÔ∏è
                </button>
            </div>
        </div>

        <!-- Post title -->
        <h1 class="post-title">{{ post.title }}</h1>
        <!-- Post meta -->
        <p class="post-meta">
            üó£Ô∏è {{ post.lecturer }} | üìå {{ post.location }} | üìÖ {{ post.date }}
        </p>

        <!-- Display post coverImage -->
        <img *ngIf="post?.coverImage" [src]="post.coverImage" alt="Cover Image" class="cover-image" />

        <!-- Post description -->
        <p class="post-description" [innerHTML]="post.description"></p>

        <!-- External link -->
        <p class="post-external" *ngIf="post.externalLink">
            <strong>‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: </strong>
            <!-- <a [href]="post.externalLink" target="_blank">{{ post.externalLink }}</a> -->
            <a [href]="post.externalLink" target="_blank">üîó Click Me!</a>
        </p>

        <!-- Display additional images -->
        <div class="post-images" *ngIf="post.images && post.images.length > 0">
            <img *ngFor="let img of post.images" [src]="img" class="post-image" />
        </div>
    </div>

    <!-- Display message if no data is available -->
    <div *ngIf="!isLoading && !post" class="error-message">
        <button class="btn back-btn" (click)="goBack()">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö</button>
        ‚ùå No posts found
    </div>

    <!-- ‚ùå Dialog Popup for delete confirmation ‚ùå -->
    <!-- Confirm Dialog Component -->
    <app-confirm-dialog *ngIf="showDeleteDialog" [message]="'‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?'" (confirm)="deletePost()"
        (cancel)="showDeleteDialog = false">
    </app-confirm-dialog>

</div>